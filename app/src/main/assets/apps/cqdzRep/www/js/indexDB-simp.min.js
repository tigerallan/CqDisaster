function IndexedDB(e){var t=window.indexedDB.open(e.dbName,e.version),n=this;t.onsuccess=function(t){console.log("open success"),n.db=t.target.result,e.callBack&&e.callBack(n)},t.onerror=function(e){console.log("open error")},t.onupgradeneeded=function(t){console.log("upgradeneeded");var n=t.target.result.createObjectStore(e.objectStore,e.keyPath);for(var o in e.dbIndex)n.createIndex(o,e.dbIndex[o])}}IndexedDB.prototype={constructor:IndexedDB,createTransaction:function(){return this.db.transaction("newsStore","readwrite").objectStore("newsStore")},addItem:function(e){var t=this.createTransaction("newsStore","readwrite");t.clear(),e.items.forEach(function(n,o,c){t.add(n).onsuccess=function(t){console.log("add success"),console.log(t),e.callBack&&e.callBack(t.target.result)}})},getAllItmes:function(e){this.createTransaction().index("title").getAll().onsuccess=function(t){console.log(t.target.result),e&&e(t.target.result)}}};